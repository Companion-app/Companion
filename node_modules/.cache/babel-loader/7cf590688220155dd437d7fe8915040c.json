{"ast":null,"code":"var _jsxFileName = \"/Users/szerena/Desktop/Companion/src/components/register/Register.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Session from 'react-session-api';\nimport { Redirect } from 'react-router-dom';\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userSession: Session.get('user'),\n      email: '',\n      password: ''\n    };\n    this.handleChangeEmail = this.handleChangeEmail.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChangeEmail(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handleChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    axios.post('http://localhost:5000/register', {\n      email: this.state.email,\n      password: this.state.password\n    }, {\n      withCredentials: true\n    }).then(res => console.log(res.data)); // this.setState({redirect: true})\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"email@email.com\",\n      name: \"email\",\n      value: this.state.value,\n      onChange: this.handleChangeEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      name: \"password\",\n      value: this.state.value,\n      onChange: this.handleChangePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nclass LogIn extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userSession: Session.get('user'),\n      email: '',\n      password: '',\n      errorMessage: '',\n      redirect: false,\n      sessionEmail: ''\n    };\n    this.handleChangeEmail = this.handleChangeEmail.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChangeEmail(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handleChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    axios.post('http://localhost:5000/login', {\n      email: this.state.email,\n      password: this.state.password\n    }, {\n      withCredentials: true\n    }).then(res => {\n      Session.set('user', res.data);\n      this.setState({\n        redirect: true\n      });\n    }).catch(error => {\n      if (error.response) {\n        this.setState({\n          errorMessage: \"The user does not exist, or the password is incorrect. Try again.\"\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 18\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"Welcome Back!\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"email@email.com\",\n      name: \"email\",\n      value: this.state.value,\n      onChange: this.handleChangeEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      name: \"password\",\n      value: this.state.value,\n      onChange: this.handleChangePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, this.state.errorMessage));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/szerena/Desktop/Companion/src/components/register/Register.js"],"names":["React","axios","Session","Redirect","Register","Component","constructor","state","userSession","get","email","password","handleChangeEmail","bind","handleChangePassword","handleSubmit","event","setState","target","value","e","preventDefault","post","withCredentials","then","res","console","log","data","render","LogIn","errorMessage","redirect","sessionEmail","set","catch","error","response"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Session from 'react-session-api';\nimport { Redirect } from 'react-router-dom';\n\n\nclass Register extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        userSession: Session.get('user'),\n        email: '',\n        password: ''\n      }\n  \n      this.handleChangeEmail = this.handleChangeEmail.bind(this);\n      this.handleChangePassword = this.handleChangePassword.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n  \n    }\n  \n    handleChangeEmail(event) {\n      this.setState({email: event.target.value});\n    }\n  \n    handleChangePassword(event) {\n      this.setState({password: event.target.value});\n    }\n  \n    handleSubmit(e){\n      e.preventDefault();\n      axios.post('http://localhost:5000/register', {\n        email: this.state.email,\n        password: this.state.password\n      }, { withCredentials: true }).then(res => console.log(res.data))\n      // this.setState({redirect: true})\n    }\n  \n    render(){\n      return(\n        <div>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          <p>Email</p>\n          <input type=\"email\" placeholder=\"email@email.com\" name=\"email\" value={this.state.value} onChange={this.handleChangeEmail} />\n  \n          <p>Password</p>\n          <input type=\"password\" placeholder=\"password\" name=\"password\" value={this.state.value} onChange={this.handleChangePassword} />\n  \n          <input type=\"submit\" value=\"Submit\"/>\n        </form>\n      </div>\n  \n      )\n    }\n  }\n  \n  \n    class LogIn extends React.Component {\n      constructor() {\n        super();\n        this.state = {\n          userSession: Session.get('user'),\n          email: '',\n          password: '',\n          errorMessage: '',\n          redirect: false,\n          sessionEmail : ''\n        }\n  \n        this.handleChangeEmail = this.handleChangeEmail.bind(this);\n        this.handleChangePassword = this.handleChangePassword.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n  \n      }\n  \n      handleChangeEmail(event) {\n        this.setState({email: event.target.value});\n      }\n  \n      handleChangePassword(event) {\n        this.setState({password: event.target.value});\n      }\n  \n      handleSubmit(e){\n        e.preventDefault();\n        axios.post('http://localhost:5000/login', {\n          email: this.state.email,\n          password: this.state.password\n        }, {\n          withCredentials: true\n        }).then(res => {\n          Session.set('user', res.data)\n  \n          this.setState({\n            redirect: true\n          })\n        }).catch(error=>{\n          if(error.response){\n            this.setState({\n              errorMessage: \"The user does not exist, or the password is incorrect. Try again.\"\n            })\n          }\n        })\n      }\n  \n      render(){\n        if(this.state.redirect){\n          return <Redirect to='/' />\n        }\n        return(\n          <div>\n          <h1>Welcome Back!</h1>\n          <form onSubmit={this.handleSubmit}>\n            <p>Email</p>\n            <input type=\"email\" placeholder=\"email@email.com\" name=\"email\" value={this.state.value} onChange={this.handleChangeEmail} />\n  \n            <p>Password</p>\n            <input type=\"password\" placeholder=\"password\" name=\"password\" value={this.state.value} onChange={this.handleChangePassword} />\n  \n            <input type=\"submit\" value=\"Submit\"/>\n          </form>\n  \n          <p>{this.state.errorMessage}</p>\n        </div>\n  \n        )\n      }\n    }\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}