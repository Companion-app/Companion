{"ast":null,"code":"var _jsxFileName = \"/Users/alenakim/Documents/GitHub/Companion/src/components/logout/Logout.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Session from 'react-session-api';\nimport { Redirect } from 'react-router-dom'; // Styling\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport '../../styles/css/main.css';\n\nclass Logout extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userSession: Session.get('user'),\n      errorMessage: '',\n      redirect: false,\n      sessionEmail: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    axios.post('http://localhost:5000/logout', {\n      withCredentials: true\n    }).then(res => {\n      Session.remove('user');\n      this.setState({\n        redirect: true\n      });\n    }).catch(error => {\n      if (error.response) {\n        this.setState({\n          errorMessage: \"Sorry, something went wrong. Try again.\"\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 16\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, \"Are you sure you would like to Logout?\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"btn-primary-solid\",\n      type: \"submit\",\n      value: \"Yes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, this.state.errorMessage));\n  }\n\n}\n\nexport default Logout;","map":{"version":3,"sources":["/Users/alenakim/Documents/GitHub/Companion/src/components/logout/Logout.js"],"names":["React","axios","Session","Redirect","Container","Row","Col","Button","Logout","Component","constructor","state","userSession","get","errorMessage","redirect","sessionEmail","handleSubmit","bind","e","preventDefault","post","withCredentials","then","res","remove","setState","catch","error","response","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,QAAT,QAAyB,kBAAzB,C,CAEA;;AACA,OAAO,sCAAP;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,MAA9B,QAA4C,iBAA5C;AACA,OAAO,2BAAP;;AAGA,MAAMC,MAAN,SAAqBR,KAAK,CAACS,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAEV,OAAO,CAACW,GAAR,CAAY,MAAZ,CADF;AAEXC,MAAAA,YAAY,EAAE,EAFH;AAGXC,MAAAA,QAAQ,EAAE,KAHC;AAIXC,MAAAA,YAAY,EAAG;AAJJ,KAAb;AAMA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AAED;;AAEDD,EAAAA,YAAY,CAACE,CAAD,EAAG;AACbA,IAAAA,CAAC,CAACC,cAAF;AACAnB,IAAAA,KAAK,CAACoB,IAAN,CAAW,8BAAX,EAA2C;AACzCC,MAAAA,eAAe,EAAE;AADwB,KAA3C,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACbtB,MAAAA,OAAO,CAACuB,MAAR,CAAe,MAAf;AAEA,WAAKC,QAAL,CAAc;AACZX,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KARD,EAQGY,KARH,CAQSC,KAAK,IAAE;AACd,UAAGA,KAAK,CAACC,QAAT,EAAkB;AAChB,aAAKH,QAAL,CAAc;AACZZ,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD;AACF,KAdD;AAeD;;AAEDgB,EAAAA,MAAM,GAAE;AACN,QAAG,KAAKnB,KAAL,CAAWI,QAAd,EAAuB;AACrB,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADA,eAEA;AAAM,MAAA,QAAQ,EAAE,KAAKE,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,mBAAjB;AAAqC,MAAA,IAAI,EAAC,QAA1C;AAAmD,MAAA,KAAK,EAAC,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFA,eAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKN,KAAL,CAAWG,YAAf,CAVA,CADF;AAeD;;AAnDgC;;AAqDrC,eAAeN,MAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Session from 'react-session-api';\nimport { Redirect } from 'react-router-dom';\n\n// Styling\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport '../../styles/css/main.css';\n\n\nclass Logout extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        userSession: Session.get('user'),\n        errorMessage: '',\n        redirect: false,\n        sessionEmail : ''\n      }\n      this.handleSubmit = this.handleSubmit.bind(this);\n\n    }\n\n    handleSubmit(e){\n      e.preventDefault();\n      axios.post('http://localhost:5000/logout', {\n        withCredentials: true\n      }).then(res => {\n        Session.remove('user');\n\n        this.setState({\n          redirect: true\n        })\n      }).catch(error=>{\n        if(error.response){\n          this.setState({\n            errorMessage: \"Sorry, something went wrong. Try again.\"\n          })\n        }\n      })\n    }\n\n    render(){\n      if(this.state.redirect){\n        return <Redirect to='/' />\n      }\n      return(\n        <div>\n        <h1>Are you sure you would like to Logout?</h1>\n        <form onSubmit={this.handleSubmit}>\n          <input className=\"btn-primary-solid\" type=\"submit\" value=\"Yes\"/>\n\n          {/* padding is off on buttons when they are submit */}\n          {/* <Button className=\"btn-primary-solid\" as=\"submit\" value=\"Submit\">Submit</Button> */}\n\n        </form>\n\n        <p>{this.state.errorMessage}</p>\n      </div>\n\n      )\n    }\n  }\nexport default Logout;"]},"metadata":{},"sourceType":"module"}